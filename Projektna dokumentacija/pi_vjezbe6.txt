using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace vjezbe6_G10
{
    public partial class Form1 : Form
    {
        private int prviBroj = 0;
        private int drugiBroj = 0;
        private Thread dretvaSuma;
        private Thread dretvaUmnozak;



        public Form1()
        {
            InitializeComponent();
            MessageBox.Show("Aplikacija spremna za korištenje!");
            CheckForIllegalCrossThreadCalls = false;
            dretvaSuma = new Thread(new ThreadStart(DretvaSumaWork));
            dretvaUmnozak = new Thread(new ThreadStart(DretvaUmnozakWork));


        }
        public void PisiULog(string poruka) {
            lock (txtPrikaz)
            {
              txtPrikaz.Text = poruka + Environment.NewLine + txtPrikaz.Text;
            }
        }
        private void ProvjeriUnos() {
            int zamjena = 0;
            int.TryParse(txt_Prvibroj.Text, out prviBroj);
            int.TryParse(txt_Drugibroj.Text, out drugiBroj);

            if (prviBroj>drugiBroj)
            {
                zamjena = prviBroj;
                prviBroj = drugiBroj;
                drugiBroj = zamjena;   
            }
            PisiULog("Prvi broj = " + prviBroj.ToString());
            PisiULog("Drugi broj = " + drugiBroj.ToString());
        }

        private void btnUnesi_Click(object sender, EventArgs e)
        {
            ProvjeriUnos();
        }

        private void DretvaSumaWork() {
            int suma = 0;
            for (int i = prviBroj; i < drugiBroj; i++)
            {
                suma += i;
            }
            PisiULog("Suma = " + suma.ToString() + ", kraj = " + DateTime.Now.ToString()); 
        
        }

        private void DretvaUmnozakWork()
        {
            int umnozak = 1;
            for (int i = prviBroj; i < drugiBroj; i++)
            {
                umnozak *= i;
            }
            PisiULog("Umnozak = " + umnozak.ToString() + ", kraj = " + DateTime.Now.ToString());

        }

        private void btnPokreni_Click(object sender, EventArgs e)
        {
            PisiULog("Poèetak izraèuna je u: " + DateTime.Now.ToString());
            dretvaSuma.Start();
            dretvaUmnozak.Start();
        }



    }
}